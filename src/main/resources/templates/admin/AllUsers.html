<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Users</title>
</head>
<body>
<div style="text-align: left; color: blue">
    <h2>Пользователи</h2><br />
</div>



<table th:border="4">
    <tr>
        <th>ID</th>
        <th>Имя</th>
        <th>Возраст</th>
        <th>Почта</th>
        <th>Пароль</th>
        <th>Активный</th>
        <th>Роль</th>

    </tr>

    <tr th:each="users : ${list}">
        <td th:utext="${users.id}">ID</td>
        <td th:utext="${users.username}">Имя</td>
        <td th:utext="${users.age}">Возраст</td>
        <td th:utext="${users.email}">Почта</td>
        <td th:utext="${users.password}">Пароль</td>
        <td th:utext="${users.active}">Активный</td>
        <td>
            <th:block th:each="role : ${users.roles}">
                <span th:text="${role.name} + ','" >Роль</span>
            </th:block>
        </td>

        <td>
            <form th:method="GET" th:action="@{/admin/update/{id} (id=${users.getId()})}" >
                <button type="submit">Обновить</button>
            </form>
        </td>
        <td>
            <form th:method="POST" th:action="@{/admin/delete/{id} (id=${users.getId()})}" >
                <button type="submit">Удалить</button>
            </form>
        </td>



    </tr>

</table>
<br />
<form th:method="GET" th:action="@{/admin/new}" >
    <button type="submit">Добавить</button>
</form><br />

<form th:action="@{/logout}" method="post">
    <input type="submit" value="Сменить пользователя"/>
</form>

</body>
</html>